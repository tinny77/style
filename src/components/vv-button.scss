@import '../context';

$name: 'vv-button';
$map: $vv-button;
$block: '.' + $name;

// custom props
:where(:root, :host) {
	@include spread-map-into-props($map: $map, $prefix: $name);
}

// block
:where(#{$block}) {
	&:where(a[href], button, input[type='button'], input[type='submit'], input[type='reset']),
	&::file-selector-button {
		-webkit-tap-highlight-color: transparent;
		-webkit-touch-callout: none;
		align-items: center;
		cursor: pointer;
		display: inline-flex;
		justify-content: center;
		text-align: center;
		touch-action: manipulation;
		user-select: none;

		@include spread-map-into-attrs($map: $vv-button, $prefix: $name);
	}

	/* input file */
	&::file-selector-button {
		margin-inline-end: var(--vv-button-gap);
	}

	/* icons */
	& > :where(svg, [data-icon]) {
		fill: none;
		flex-shrink: 0;
		stroke-linecap: round;
		stroke-linejoin: round;

		@include spread-map-into-attrs(
			$map: map-get-deep($vv-button, 'element', 'icon'),
			$prefix: #{$name}-element-icon
		);
	}
}

// states
@include spread-map-into-states(
	$map: $map,
	$prefix: $name,
	$key: 'state',
	$block: $block
);

// modifiers
@include spread-map-into-modifiers(
	$map: $map,
	$prefix: $name,
	$key: 'modifier',
	$block: $block
);
